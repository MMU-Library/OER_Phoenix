{% extends "base.html" %}

{% block content %}
<h1>Create New OER Source</h1>

<form method="post">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="id_source_type">Source Type:</label>
        {{ form.source_type }}
    </div>
    
    <div id="configuration-form"></div>
    
    <button type="submit" class="btn btn-primary">Create Source</button>
</form>

<script>
function loadConfigurationForm() {
    const sourceType = document.getElementById('id_source_type').value;
    fetch(`/load-configuration-form/?source_type=${sourceType}`)
        .then(response => response.text())
        .then(html => {
            document.getElementById('configuration-form').innerHTML = html;
        });
}

document.getElementById('id_source_type').addEventListener('change', loadConfigurationForm);
</script>

{% endblock %}