{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div id="content-main">
    <h1>Upload CSV File</h1>
    <div class="module">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <fieldset class="aligned wide">
                <div class="form-row">
                    {{ form.csv_file.label_tag }}
                    {{ form.csv_file }}
                    {% if form.csv_file.errors %}
                        <ul class="errorlist">
                            {% for error in form.csv_file.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    <div class="help">
                        Upload a CSV or TSV file containing OER resources. 
                        Supported formats: .csv, .tsv<br>
                        Expected columns: Title, URL, Description, License, etc.
                    </div>
                </div>
            </fieldset>
            <div class="submit-row">
                <input type="submit" value="Upload CSV" class="default" name="_save">
                <a href="{% url 'admin:resources_oersource_changelist' %}" class="button">Cancel</a>
            </div>
        </form>
        
        <div class="module" style="margin-top: 20px;">
            <h2>CSV Format Example</h2>
            <pre style="background: #f5f5f5; padding: 10px; border-radius: 4px;">
Title,URL,Description,License,Subject,Publisher
"Introduction to Python","https://example.com/python","Basic Python programming","CC BY","Computer Science","Open University"
"Physics 101","https://example.com/physics","Fundamental physics concepts","CC BY-SA","Physics","MIT OpenCourseWare"
            </pre>
        </div>
    </div>
</div>
{% endblock %}