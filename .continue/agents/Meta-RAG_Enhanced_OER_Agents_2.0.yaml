# Meta-RAG Enhanced OER Agents with Web Search 2.0 - Continue Native Config
name: Meta-RAG Enhanced OER Agents with Web Search 2.0
version: "1.4"
schema: v1

models:
  - name: deepseek-r1:32b
    provider: ollama
    model: deepseek-r1:32b
    apiBase: http://localhost:11434
    contextLength: 32768
    systemMessage: |
      Windows CMD ONLY. Adhere to "The One Rule". You are an expert Python/Django/OER developer.

  - name: deepseek-r1:14b
    provider: ollama
    model: deepseek-r1:14b
    apiBase: http://localhost:11434
    contextLength: 16384
    systemMessage: |
      Windows CMD ONLY. Adhere to "The One Rule".

  - name: starcoder2:15b
    provider: ollama
    model: starcoder2:15b
    apiBase: http://localhost:11434
    contextLength: 100000  # StarCoder2 supports large context (adjust as needed)
    systemMessage: |
      You are a StarCoder2 LLM specialized for agent and coding workflows in a Windows CMD, Django, and OER context.
      Always follow these rules:
      - Use only Windows CMD commands, paths, and naming conventions.
      - For code edits, always show file, precise context, and step-by-step change.
      - Prioritize agentic planning, modularity, and compliance with project architecture and "The One Rule".
      - Integrate with Python, Docker, ChromaDB, and OAI-PMH per project design.
      - For any configuration, always reference environment and local-config settings; for commands, output in code blocks.
      - Never use Unix commands.

  - name: qwen2.5-coder:32b-instruct
    provider: ollama
    model: qwen2.5-coder:32b-instruct
    apiBase: http://localhost:11434
    contextLength: 24576
    systemMessage: |
      Windows CMD ONLY. Focus on code generation and API integration for OER systems. "The One Rule" enforced.

  - name: deepseek-coder-v2:16b
    provider: ollama
    model: deepseek-coder-v2:16b
    apiBase: http://localhost:11434
    contextLength: 16384
    systemMessage: |
      Metadata processing agent for OER systems. "The One Rule" enforced.

  - name: deepseek-coder:instruct
    provider: ollama
    model: deepseek-coder:instruct
    apiBase: http://localhost:11434
    contextLength: 8192
    systemMessage: |
      Data mapping/normalization only. "The One Rule" enforced.

  - name: deepseek-llm:7b
    provider: ollama
    model: deepseek-llm:7b
    apiBase: http://localhost:11434
    contextLength: 8192
    systemMessage: |
      Setup/config agent. Windows CMD, "The One Rule" enforced.

default_model: deepseek-r1:32b
context_length: 32768

default_agent_model: starcoder2:15b
default_chat_model: deepseek-r1:32b
default_plan_model: qwen2.5-coder:32b-instruct

# Context providers for @file and project maps
context:
  - provider: file
  - provider: code
  - provider: currentFile
  - provider: folder
    args:
      path: .continue/agents
      maxFiles: 20
      maxBytes: 200000

# Model parameters, 
model_parameters:
  temperature: 0.3
  top_p: 0.9
  top_k: 40
  num_ctx: 16384
  num_predict: 4096
  repeat_penalty: 1.1
  num_gpu: 1

# Agent role definitions
agent_roles:
  orchestrator:
    description: Reasoning & routing coordinator
    recommended_model: starcoder2:15b
    parameters:
      num_ctx: 100000
      temperature: 0.4
      top_p: 0.9
    system_prompt: |
      <think>

# Environment variables specific to Windows CMD and project setup 
environment:
  OLLAMA_HOST: http://localhost:11434
  OLLAMA_MODELS: C:\Users\55124152\.ollama\models
  OLLAMA_NUM_GPU: 1
  OLLAMA_MAX_VRAM: 8192
  OLLAMA_MMLOCK: true
  LOG_LEVEL: info
  ENCRYPTED_VOLUMES: true
  RATE_LIMIT_REQUESTS_PER_MINUTE: 100
  SENSITIVE_DATA_MASKING: true
  OLLAMA_MAX_LOADED_MODELS: "3"
  LOGRETENTION_DAYS: 7
  MAX_LOG_SIZE: 10MB
  VECTORSTORE_PATH: C:\project\vectorstores\chroma
  OS: Windows
  SHELL: CMD
  IDE: VS Code with Continue extension
  PROJECT_ROOT: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth
  DJANGO_SETTINGS_MODULE: oer_project.settings
  DATABASE_URL: postgresql://oer_user:password@localhost:5432/oer_database
  CHROMA_DB_PATH: C:\project\vectorstores\chroma\oer_collection
  OER_COMMONS_API: "https://api.oercommons.org/v1"
  OPENSTAX_API: "https://api.openstax.org/api/v2"
  LANGUAGES:
    - Python
    - HTML
    - YAML
    - Shell scripts (.bat, .cmd)
  FRAMEWORKS:
    - Django
    - OAI-PMH
  DATABASES:
    - PostgreSQL
    - ChromaDB
  CONTAINERIZATION:
    - Docker
    - Docker Compose

command_preferences:
  package_manager: pip
  container_tool: docker-compose
  path_style: windows
  shell: cmd
  docker_scale_service: "docker-compose scale {service}=X"
  docker_monitor_logs: "docker logs -f --tail=100 {service}"
  docker_build_fresh: "docker-compose build --no-cache && docker-compose up"
  docker_build_and_run: "docker-compose up --build"
  pip_install_requirements: "pip install -r requirements.txt"
  create_directory: "mkdir"
  list_directory: "dir"
  change_permissions: "icacls"
  python_manage: "python manage.py"

project_paths:
  root: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth
  views: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\resources\views.py
  models: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\resources\models.py
  urls: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\resources\urls.py
  templates: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\templates
  static: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\static
  scripts: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\scripts
  agents: C:\Users\55124152\OneDrive - MMU\DLS\OER_Rebirth\.continue\agents

vector_store:
  backend: chromadb
  sources:
    - code_summaries: C:\project\vectorstores\code_summaries.db
    - metadata_summaries: C:\project\vectorstores\metadata_summaries.db
  retrieval:
    strategy: hierarchical
    similarity_threshold: 0.7
    max_results: 5

web_search:
  provider: duckduckgo
  max_results: 5
  context_injection: always
  fallback_to_local: true
  timeout: 10
  cache_results: true

meta_rag:
  summarize_on_change: true
  chunk_granularity: file_class_function_endpoint
  context_limit: 8
  ask_for_missing_context: true
  web_search_integration: true
  auto_retry_failed_requests: true
  max_retries: 3
  retry_delay: 2
  cache_context: true

logging:
  fetch_errors: C:\project\logs\fetch_errors.log
  actions: C:\project\logs\agent_actions.log
  web_searches: C:\project\logs\web_searches.log
  model_performance: C:\project\logs\model_performance.log
  monitoring_dashboard: http://localhost:3000
  logretention_days: 7
  max_log_size: 10MB
  log_rotation: true

performance:
  enable_metrics: true
  track_response_times: true
  cache_ttl: 3600
  max_concurrent_requests: 3
  request_timeout: 120
